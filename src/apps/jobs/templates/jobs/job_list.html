{% extends 'base.html' %}
{% block content %}
<h3 class="mb-3">{% if mine %}My Jobs{% else %}Browse Jobs{% endif %}</h3>
<form class="row g-2 mb-3" method="get">
  <div class="col-md-4"><input class="form-control" type="text" name="q" placeholder="Keyword" value="{{ request.GET.q }}"></div>
  <div class="col-md-3"><input class="form-control" type="text" name="location" placeholder="Location" value="{{ request.GET.location }}"></div>
  <div class="col-md-2"><input class="form-control" type="number" name="min_exp" placeholder="Min Exp" value="{{ request.GET.min_exp }}"></div>
  <div class="col-md-2 form-check align-self-center">
    <input class="form-check-input" type="checkbox" name="remote" value="1" {% if request.GET.remote == '1' %}checked{% endif %}> Remote
  </div>
  <div class="col-md-1"><button class="btn btn-outline-secondary w-100">Go</button></div>
</form>

<div class="list-group">
  {% for job in jobs %}
    <a href="{{ job.get_absolute_url }}" class="list-group-item list-group-item-action">
      <div class="d-flex w-100 justify-content-between">
        <h5 class="mb-1">{{ job.title }}</h5>
        <small class="text-muted">{{ job.created_at|date:"M d, Y" }}</small>
      </div>
      <p class="mb-1">{{ job.location }} • {% if job.is_remote %}Remote{% else %}On‑site{% endif %} • {{ job.experience_years }}+ yrs</p>
    </a>
  {% empty %}
    <p class="text-muted">No jobs found.</p>
  {% endfor %}
</div>

{% if jobs.paginator %}
<nav class="mt-3">
  <ul class="pagination">
    {% if jobs.has_previous %}
      <li class="page-item"><a class="page-link" href="?page={{ jobs.previous_page_number }}">Prev</a></li>
    {% endif %}
    <li class="page-item disabled"><span class="page-link">Page {{ jobs.number }} of {{ jobs.paginator.num_pages }}</span></li>
    {% if jobs.has_next %}
      <li class="page-item"><a class="page-link" href="?page={{ jobs.next_page_number }}">Next</a></li>
    {% endif %}
  </ul>
</nav>
{% endif %}
{% endblock %}